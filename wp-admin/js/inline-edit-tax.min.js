window.wp=window.wp||{},function(t,e){window.inlineEditTax={init:function(){var e=this,i=t("#inline-edit");e.type=t("#the-list").attr("data-wp-lists").substr(5),e.what="#"+e.type+"-",t("#the-list").on("click",".editinline",function(){t(this).attr("aria-expanded","true"),inlineEditTax.edit(this)}),i.keyup(function(t){if(27===t.which)return inlineEditTax.revert()}),t(".cancel",i).click(function(){return inlineEditTax.revert()}),t(".save",i).click(function(){return inlineEditTax.save(this)}),t("input, select",i).keydown(function(t){if(13===t.which)return inlineEditTax.save(this)}),t('#posts-filter input[type="submit"]').mousedown(function(){e.revert()})},toggle:function(e){var i=this;"none"===t(i.what+i.getId(e)).css("display")?i.revert():i.edit(e)},edit:function(e){var i,s,r,n=this;return n.revert(),"object"==typeof e&&(e=n.getId(e)),i=t("#inline-edit").clone(!0),s=t("#inline_"+e),t("td",i).attr("colspan",t("th:visible, td:visible",".wp-list-table.widefat:first thead").length),t(n.what+e).hide().after(i).after('<tr class="hidden"></tr>'),r=t(".name",s),r.find("img").replaceWith(function(){return this.alt}),r=r.text(),t(':input[name="name"]',i).val(r),r=t(".slug",s),r.find("img").replaceWith(function(){return this.alt}),r=r.text(),t(':input[name="slug"]',i).val(r),t(i).attr("id","edit-"+e).addClass("inline-editor").show(),t(".ptitle",i).eq(0).focus(),!1},save:function(i){var s,r,n=t('input[name="taxonomy"]').val()||"";return"object"==typeof i&&(i=this.getId(i)),t("table.widefat .spinner").addClass("is-active"),s={action:"inline-save-tax",tax_type:this.type,tax_ID:i,taxonomy:n},r=t("#edit-"+i).find(":input").serialize(),s=r+"&"+t.param(s),t.post(ajaxurl,s,function(s){var r,n,a,o=t("#edit-"+i+" .inline-edit-save .notice-error"),h=o.find(".error");t("table.widefat .spinner").removeClass("is-active"),s?-1!==s.indexOf("<tr")?(t(inlineEditTax.what+i).siblings("tr.hidden").addBack().remove(),n=t(s).attr("id"),t("#edit-"+i).before(s).remove(),n?(a=n.replace(inlineEditTax.type+"-",""),r=t("#"+n)):(a=i,r=t(inlineEditTax.what+i)),t("#parent").find("option[value="+a+"]").text(r.find(".row-title").text()),r.hide().fadeIn(400,function(){r.find(".editinline").attr("aria-expanded","false").focus(),e.a11y.speak(inlineEditL10n.saved)})):(o.removeClass("hidden"),h.html(s),e.a11y.speak(h.text())):(o.removeClass("hidden"),h.html(inlineEditL10n.error),e.a11y.speak(inlineEditL10n.error))}),!1},revert:function(){var e=t("table.widefat tr.inline-editor").attr("id");e&&(t("table.widefat .spinner").removeClass("is-active"),t("#"+e).siblings("tr.hidden").addBack().remove(),e=e.substr(e.lastIndexOf("-")+1),t(this.what+e).show().find(".editinline").attr("aria-expanded","false").focus())},getId:function(e){var i="TR"===e.tagName?e.id:t(e).parents("tr").attr("id"),s=i.split("-");return s[s.length-1]}},t(document).ready(function(){inlineEditTax.init()})}(jQuery,window.wp);