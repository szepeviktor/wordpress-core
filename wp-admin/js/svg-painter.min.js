window.wp=window.wp||{},wp.svgPainter=function(t,e,i,s){"use strict";var r,n,a,o={},h=[];return t(i).ready(function(){i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")&&(t(i.body).removeClass("no-svg").addClass("svg"),wp.svgPainter.init())}),n=function(){function t(){for(;d<256;)r=String.fromCharCode(d),a+=r,h[d]=d,o[d]=n.indexOf(r),++d}function e(t,e,i,s,n,a){var o,h,d=0,c=0,l="",u=0;for(t=String(t),h=t.length;c<h;){for(r=t.charCodeAt(c),r=r<256?i[r]:-1,d=(d<<n)+r,u+=n;u>=a;)u-=a,o=d>>u,l+=s.charAt(o),d^=o<<u;++c}return!e&&u>0&&(l+=s.charAt(d<<a-u)),l}function i(i){return r||t(),(i=e(i,!1,h,n,8,6))+"====".slice(i.length%4||4)}function s(i){var s;r||t(),i=i.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=String(i).split("="),s=i.length;do{--s,i[s]=e(i[s],!0,o,a,6,8)}while(s>0);return i=i.join("")}var r,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",o=[256],h=[256],d=0;return{atob:s,btoa:i}}(),{init:function(){a=this,r=t("#adminmenu .wp-menu-image, #wpadminbar .ab-item"),this.setColors(),this.findElements(),this.paint()},setColors:function(t){void 0===t&&"undefined"!=typeof e._wpColorScheme&&(t=e._wpColorScheme),t&&t.icons&&t.icons.base&&t.icons.current&&t.icons.focus&&(o=t.icons)},findElements:function(){r.each(function(){var e=t(this),i=e.css("background-image");i&&-1!=i.indexOf("data:image/svg+xml;base64")&&h.push(e)})},paint:function(){t.each(h,function(t,i){var s=i.parent().parent();s.hasClass("current")||s.hasClass("wp-has-current-submenu")?a.paintElement(i,"current"):(a.paintElement(i,"base"),s.hover(function(){a.paintElement(i,"focus")},function(){e.setTimeout(function(){a.paintElement(i,"base")},100)}))})},paintElement:function(t,i){var s,r,a;if(i&&o.hasOwnProperty(i)&&(a=o[i],a.match(/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/i)&&"none"!==(s=t.data("wp-ui-svg-"+a)))){if(!s){if(!(r=t.css("background-image").match(/.+data:image\/svg\+xml;base64,([A-Za-z0-9\+\/\=]+)/))||!r[1])return void t.data("wp-ui-svg-"+a,"none");try{s="atob"in e?e.atob(r[1]):n.atob(r[1])}catch(h){}if(!s)return void t.data("wp-ui-svg-"+a,"none");s=s.replace(/fill="(.+?)"/g,'fill="'+a+'"'),s=s.replace(/style="(.+?)"/g,'style="fill:'+a+'"'),s=s.replace(/fill:.*?;/g,"fill: "+a+";"),s="btoa"in e?e.btoa(s):n.btoa(s),t.data("wp-ui-svg-"+a,s)}t.attr("style",'background-image: url("data:image/svg+xml;base64,'+s+'") !important;')}}}}(jQuery,window,document);