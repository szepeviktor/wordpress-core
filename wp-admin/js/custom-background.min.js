!function(t){t(document).ready(function(){var e,i=t("#custom-background-image");t("#background-color").wpColorPicker({change:function(t,e){i.css("background-color",e.color.toString())},clear:function(){i.css("background-color","")}}),t('select[name="background-size"]').change(function(){i.css("background-size",t(this).val())}),t('input[name="background-position"]').change(function(){i.css("background-position",t(this).val())}),t('input[name="background-repeat"]').change(function(){i.css("background-repeat",t(this).is(":checked")?"repeat":"no-repeat")}),t('input[name="background-attachment"]').change(function(){i.css("background-attachment",t(this).is(":checked")?"scroll":"fixed")}),t("#choose-from-library-link").click(function(i){var s=t(this);if(i.preventDefault(),e)return void e.open();e=wp.media.frames.customBackground=wp.media({title:s.data("choose"),library:{type:"image"},button:{text:s.data("update"),close:!1}}),e.on("select",function(){var i=e.state().get("selection").first();t.post(ajaxurl,{action:"set-background-image",attachment_id:i.id,size:"full"}).done(function(){window.location.reload()})}),e.open()})})}(jQuery);