!function(t,e){var i;i={options:{defaultColor:!1,change:!1,clear:!1,hide:!0,palettes:!0,width:255,mode:"hsv",type:"full",slider:"horizontal"},_createHueOnly:function(){var e,i=this,s=i.element;s.hide(),e="hsl("+s.val()+", 100, 50)",s.iris({mode:"hsl",type:"hue",hide:!1,color:e,change:function(e,s){t.isFunction(i.options.change)&&i.options.change.call(this,e,s)},width:i.options.width,slider:i.options.slider})},_create:function(){if(t.support.iris){var e=this,i=e.element;if(t.extend(e.options,i.data()),"hue"===e.options.type)return e._createHueOnly();e.close=t.proxy(e.close,e),e.initialValue=i.val(),i.addClass("wp-color-picker"),i.parent("label").length||(i.wrap("<label></label>"),e.wrappingLabelText=t('<span class="screen-reader-text"></span>').insertBefore(i).text(wpColorPickerL10n.defaultLabel)),e.wrappingLabel=i.parent(),e.wrappingLabel.wrap('<div class="wp-picker-container" />'),e.wrap=e.wrappingLabel.parent(),e.toggler=t('<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>').insertBefore(e.wrappingLabel).css({backgroundColor:e.initialValue}),e.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick),e.pickerContainer=t('<div class="wp-picker-holder" />').insertAfter(e.wrappingLabel),e.button=t('<input type="button" class="button button-small" />'),e.options.defaultColor?e.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString).attr("aria-label",wpColorPickerL10n.defaultAriaLabel):e.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear).attr("aria-label",wpColorPickerL10n.clearAriaLabel),e.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(e.button),e.inputWrapper=i.closest(".wp-picker-input-wrap"),i.iris({target:e.pickerContainer,hide:e.options.hide,width:e.options.width,mode:e.options.mode,palettes:e.options.palettes,change:function(i,s){e.toggler.css({backgroundColor:s.color.toString()}),t.isFunction(e.options.change)&&e.options.change.call(this,i,s)}}),i.val(e.initialValue),e._addListeners(),e.options.hide||e.toggler.click()}},_addListeners:function(){var e=this;e.wrap.on("click.wpcolorpicker",function(t){t.stopPropagation()}),e.toggler.click(function(){e.toggler.hasClass("wp-picker-open")?e.close():e.open()}),e.element.change(function(i){var s=t(this),r=s.val();""!==r&&"#"!==r||(e.toggler.css("backgroundColor",""),t.isFunction(e.options.clear)&&e.options.clear.call(this,i))}),e.button.click(function(i){var s=t(this);s.hasClass("wp-picker-clear")?(e.element.val(""),e.toggler.css("backgroundColor",""),t.isFunction(e.options.clear)&&e.options.clear.call(this,i)):s.hasClass("wp-picker-default")&&e.element.val(e.options.defaultColor).change()})},open:function(){this.element.iris("toggle"),this.inputWrapper.removeClass("hidden"),this.wrap.addClass("wp-picker-active"),this.toggler.addClass("wp-picker-open").attr("aria-expanded","true"),t("body").trigger("click.wpcolorpicker").on("click.wpcolorpicker",this.close)},close:function(){this.element.iris("toggle"),this.inputWrapper.addClass("hidden"),this.wrap.removeClass("wp-picker-active"),this.toggler.removeClass("wp-picker-open").attr("aria-expanded","false"),t("body").off("click.wpcolorpicker",this.close)},color:function(t){if(void 0===t)return this.element.iris("option","color");this.element.iris("option","color",t)},defaultColor:function(t){if(void 0===t)return this.options.defaultColor;this.options.defaultColor=t}},t.widget("wp.wpColorPicker",i)}(jQuery);