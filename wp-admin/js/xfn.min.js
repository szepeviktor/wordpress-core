jQuery(document).ready(function(t){t("#link_rel").prop("readonly",!0),t("#linkxfndiv input").bind("click keyup",function(){var e=t("#me").is(":checked"),i="";t("input.valinp").each(function(){e?t(this).prop("disabled",!0).parent().addClass("disabled"):(t(this).removeAttr("disabled").parent().removeClass("disabled"),t(this).is(":checked")&&""!==t(this).val()&&(i+=t(this).val()+" "))}),t("#link_rel").val(e?"me":i.substr(0,i.length-1))})}),jQuery(document).ready(function(t){function e(t,e){t.children().hide(),t.children("."+e).show()}function i(t){t.removeClass("has-request-results"),t.next().hasClass("request-results")&&t.next().remove()}function s(e,s,r,n){var a="",o="request-results";i(e),n.length&&(t.each(n,function(t,e){a=a+"<li>"+e+"</li>"}),a="<ul>"+a+"</ul>"),e.addClass("has-request-results"),e.hasClass("status-request-confirmed")&&(o+=" status-request-confirmed"),e.hasClass("status-request-failed")&&(o+=" status-request-failed"),e.after(function(){return'<tr class="'+o+'"><th colspan="5"><div class="notice inline notice-alt '+s+'"><p>'+r+"</p>"+a+"</div></td></tr>"})}var r=window.privacyToolsL10n||{};t(".export-personal-data-handle").click(function(n){function a(t){e(c,"export-personal-data-success"),void 0!==t?window.location=t:g||o(r.noExportFile)}function o(t){e(c,"export-personal-data-failed"),t&&s(l,"notice-error",r.exportError,[t])}function h(e,i){t.ajax({url:window.ajaxurl,data:{action:"wp-privacy-export-personal-data",exporter:e,id:u,page:i,security:p,sendAsEmail:g},method:"post"}).done(function(t){var s=t.data;if(!t.success)return void o(t.data);s.done?e<m?setTimeout(h(e+1,1)):a(s.url):setTimeout(h(e,i+1))}).fail(function(t,e,i){o(i)})}var d=t(this),c=d.parents(".export-personal-data"),l=d.parents("tr"),u=c.data("request-id"),p=c.data("nonce"),m=c.data("exporters-count"),g=!!c.data("send-as-email");n.preventDefault(),n.stopPropagation(),c.blur(),i(l),e(c,"export-personal-data-processing"),h(1,1)}),t(".remove-personal-data-handle").click(function(n){function a(){var t=r.noDataFound;e(c,"remove-personal-data-idle"),!1===g?!1===f?t=r.noDataFound:t=r.noneRemoved:!1===f?t=r.foundAndRemoved:t=r.someNotRemoved,s(l,"notice-success",t,_)}function o(){e(c,"remove-personal-data-failed"),s(l,"notice-error",r.removalError,[])}function h(e,i){t.ajax({url:window.ajaxurl,data:{action:"wp-privacy-erase-personal-data",eraser:e,id:u,page:i,security:p},method:"post"}).done(function(t){var s=t.data;if(!t.success)return void o();s.items_removed&&(g=g||s.items_removed),s.items_retained&&(f=f||s.items_retained),s.messages&&(_=_.concat(s.messages)),s.done?e<m?setTimeout(h(e+1,1)):a():setTimeout(h(e,i+1))}).fail(function(){o()})}var d=t(this),c=d.parents(".remove-personal-data"),l=d.parents("tr"),u=c.data("request-id"),p=c.data("nonce"),m=c.data("erasers-count"),g=!1,f=!1,_=[];n.stopPropagation(),c.blur(),i(l),e(c,"remove-personal-data-processing"),h(1,1)})}),function(t){t(document).on("click",function(e){var i,s,r,n=t(e.target);if(n.is("button.privacy-text-copy")&&(i=n.parent().parent(),s=i.find("div.wp-suggested-text"),s.length||(s=i.find("div.policy-text")),s.length))try{window.getSelection().removeAllRanges(),r=document.createRange(),s.addClass("hide-privacy-policy-tutorial"),r.selectNodeContents(s[0]),window.getSelection().addRange(r),document.execCommand("copy"),s.removeClass("hide-privacy-policy-tutorial"),window.getSelection().removeAllRanges()}catch(a){}})}(jQuery);