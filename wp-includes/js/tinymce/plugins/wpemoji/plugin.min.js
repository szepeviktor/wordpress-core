!function(t,e,i){t.PluginManager.add("wpemoji",function(s){function r(t){t.className="emoji",t.setAttribute("data-mce-resize","false"),t.setAttribute("data-mce-placeholder","1"),t.setAttribute("data-wp-emoji","1")}function n(t){var i={"data-mce-resize":"false","data-mce-placeholder":"1","data-wp-emoji":"1"};e.emoji.parse(t,{imgAttr:i})}function a(t){var e,i;t&&window.twemoji&&window.twemoji.test(t.textContent||t.innerText)&&(h.webkit&&(e=s.selection,i=e.getBookmark()),n(t),h.webkit&&e.moveToBookmark(i))}var o,h=t.Env,d=window.navigator.userAgent,c=d.indexOf("Windows")>-1,l=function(){var t=d.match(/Windows NT 6\.(\d)/);return!!(t&&t[1]>1)}();e&&e.emoji&&!i.supports.everything&&(l?s.on("keyup",function(t){231===t.keyCode&&a(s.selection.getNode())}):c||(s.on("keydown keyup",function(t){o="keydown"===t.type}),s.on("input",function(){o||a(s.selection.getNode())})),s.on("setcontent",function(t){var e=s.selection,i=e.getNode();window.twemoji&&window.twemoji.test(i.textContent||i.innerText)&&(n(i),h.ie&&h.ie<9&&t.load&&i&&"BODY"===i.nodeName&&e.collapse(!0))}),s.on("PastePostProcess",function(e){window.twemoji&&t.each(s.dom.$("img.emoji",e.node),function(t){t.alt&&window.twemoji.test(t.alt)&&r(t)})}),s.on("postprocess",function(t){t.content&&(t.content=t.content.replace(/<img[^>]+data-wp-emoji="[^>]+>/g,function(t){var e=t.match(/alt="([^"]+)"/);return e&&e[1]?e[1]:t}))}),s.on("resolvename",function(t){"IMG"===t.target.nodeName&&s.dom.getAttrib(t.target,"data-wp-emoji")&&t.preventDefault()}))})}(window.tinymce,window.wp,window._wpemojiSettings);